---
description: Снижение риска OOM в Cursor — работа с минимальным контекстом
alwaysApply: true
---

# OOM: минимум контекста

**Цель:** не загружать лишнее, чтобы не выкидывало из Cursor.

- **bot_enhanced_v3.py** (13k+ строк): никогда не читать целиком. Всегда использовать **grep** или **codebase_search**, затем **read_file** только с `offset` и `limit` (например, limit 150–200 строк на один вызов).
- **utils/i18n.py** и другие файлы >300 строк: читать по кускам (offset/limit) или искать через grep/codebase_search, не весь файл.
- Не вызывать подряд много read_file на большие файлы. Один точечный запрос → один маленький фрагмент.
- Редактировать через **search_replace** по уникальным строкам, не загружая весь файл.

Итог: меньше полных файлов в контексте → меньше шанс OOM и вылета из Cursor.
