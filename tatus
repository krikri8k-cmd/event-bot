[1mdiff --git a/bot_enhanced_v3.py b/bot_enhanced_v3.py[m
[1mindex 6628d13..73395db 100644[m
[1m--- a/bot_enhanced_v3.py[m
[1m+++ b/bot_enhanced_v3.py[m
[36m@@ -3142,15 +3142,23 @@[m [masync def main():[m
 # –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å—Ç–∞—Ç—É—Å–∞–º–∏ —Å–æ–±—ã—Ç–∏–π[m
 @dp.callback_query(F.data.startswith("close_event_"))[m
 async def handle_close_event(callback: types.CallbackQuery):[m
[31m-    """–ó–∞–∫—Ä—ã—Ç–∏–µ —Å–æ–±—ã—Ç–∏—è"""[m
[32m+[m[32m    """–ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è"""[m
     event_id = int(callback.data.split("_")[-1])[m
     user_id = callback.from_user.id[m
 [m
     success = change_event_status(event_id, "closed", user_id)[m
     if success:[m
[31m-        await callback.answer("‚úÖ –°–æ–±—ã—Ç–∏–µ –∑–∞–∫—Ä—ã—Ç–æ")[m
[31m-        # –û–±–Ω–æ–≤–ª—è–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ[m
[32m+[m[32m        # –ü–æ–ª—É—á–∞–µ–º –Ω–∞–∑–≤–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è –¥–ª—è —Å–æ–æ–±—â–µ–Ω–∏—è[m
         events = get_user_events(user_id)[m
[32m+[m[32m        event_name = "–º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–µ"[m
[32m+[m[32m        if events:[m
[32m+[m[32m            event = next((e for e in events if e["id"] == event_id), None)[m
[32m+[m[32m            if event:[m
[32m+[m[32m                event_name = event["title"][m
[32m+[m
[32m+[m[32m        await callback.answer(f"‚úÖ –ú–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–µ '{event_name}' –∑–∞–≤–µ—Ä—à–µ–Ω–æ!")[m
[32m+[m
[32m+[m[32m        # –û–±–Ω–æ–≤–ª—è–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ[m
         if events:[m
             first_event = events[0][m
             text = f"üìã **–í–∞—à–∏ —Å–æ–±—ã—Ç–∏—è:**\n\n{format_event_for_display(first_event)}"[m
[36m@@ -3162,45 +3170,28 @@[m [masync def handle_close_event(callback: types.CallbackQuery):[m
             )[m
             await callback.message.edit_text(text, parse_mode="Markdown", reply_markup=keyboard)[m
     else:[m
[31m-        await callback.answer("‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–∫—Ä—ã—Ç–∏–∏ —Å–æ–±—ã—Ç–∏—è")[m
[32m+[m[32m        await callback.answer("‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è")[m
 [m
 [m
 @dp.callback_query(F.data.startswith("open_event_"))[m
 async def handle_open_event(callback: types.CallbackQuery):[m
[31m-    """–û—Ç–∫—Ä—ã—Ç–∏–µ —Å–æ–±—ã—Ç–∏—è"""[m
[32m+[m[32m    """–í–æ–∑–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è"""[m
     event_id = int(callback.data.split("_")[-1])[m
     user_id = callback.from_user.id[m
 [m
     success = change_event_status(event_id, "open", user_id)[m
     if success:[m
[31m-        await callback.answer("‚úÖ –°–æ–±—ã—Ç–∏–µ –æ—Ç–∫—Ä—ã—Ç–æ")[m
[31m-        # –û–±–Ω–æ–≤–ª—è–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ[m
[32m+[m[32m        # –ü–æ–ª—É—á–∞–µ–º –Ω–∞–∑–≤–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è –¥–ª—è —Å–æ–æ–±—â–µ–Ω–∏—è[m
         events = get_user_events(user_id)[m
[32m+[m[32m        event_name = "–º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–µ"[m
         if events:[m
[31m-            first_event = events[0][m
[31m-            text = f"üìã **–í–∞—à–∏ —Å–æ–±—ã—Ç–∏—è:**\n\n{format_event_for_display(first_event)}"[m
[31m-            buttons = get_status_change_buttons(first_event["id"], first_event["status"])[m
[31m-            keyboard = InlineKeyboardMarkup([m
[31m-                inline_keyboard=[[m
[31m-                    [InlineKeyboardButton(text=btn["text"], callback_data=btn["callback_data"])] for btn in buttons[m
[31m-                ][m
[31m-            )[m
[31m-            await callback.message.edit_text(text, parse_mode="Markdown", reply_markup=keyboard)[m
[31m-    else:[m
[31m-        await callback.answer("‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ —Å–æ–±—ã—Ç–∏—è")[m
[32m+[m[32m            event = next((e for e in events if e["id"] == event_id), None)[m
[32m+[m[32m            if event:[m
[32m+[m[32m                event_name = event["title"][m
 [m
[32m+[m[32m        await callback.answer(f"üîÑ –ú–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–µ '{event_name}' —Å–Ω–æ–≤–∞ –∞–∫—Ç–∏–≤–Ω–æ!")[m
 [m
[31m-@dp.callback_query(F.data.startswith("cancel_event_"))[m
[31m-async def handle_cancel_event(callback: types.CallbackQuery):[m
[31m-    """–û—Ç–º–µ–Ω–∞ —Å–æ–±—ã—Ç–∏—è"""[m
[31m-    event_id = int(callback.data.split("_")[-1])[m
[31m-    user_id = callback.from_user.id[m
[31m-[m
[31m-    success = change_event_status(event_id, "canceled", user_id)[m
[31m-    if success:[m
[31m-        await callback.answer("üö´ –°–æ–±—ã—Ç–∏–µ –æ—Ç–º–µ–Ω–µ–Ω–æ")[m
         # –û–±–Ω–æ–≤–ª—è–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ[m
[31m-        events = get_user_events(user_id)[m
         if events:[m
             first_event = events[0][m
             text = f"üìã **–í–∞—à–∏ —Å–æ–±—ã—Ç–∏—è:**\n\n{format_event_for_display(first_event)}"[m
[36m@@ -3212,7 +3203,7 @@[m [masync def handle_cancel_event(callback: types.CallbackQuery):[m
             )[m
             await callback.message.edit_text(text, parse_mode="Markdown", reply_markup=keyboard)[m
     else:[m
[31m-        await callback.answer("‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ –æ—Ç–º–µ–Ω–µ —Å–æ–±—ã—Ç–∏—è")[m
[32m+[m[32m        await callback.answer("‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ –≤–æ–∑–æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è")[m
 [m
 [m
 @dp.callback_query(F.data.startswith("edit_event_"))[m
[36m@@ -3465,6 +3456,13 @@[m [masync def handle_next_event(callback: types.CallbackQuery):[m
         await callback.answer("–≠—Ç–æ –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–µ —Å–æ–±—ã—Ç–∏–µ")[m
 [m
 [m
[32m+[m[32m@dp.callback_query(F.data.startswith("back_to_main_"))[m
[32m+[m[32masync def handle_back_to_main(callback: types.CallbackQuery):[m
[32m+[m[32m    """–í–æ–∑–≤—Ä–∞—Ç –≤ –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é"""[m
[32m+[m[32m    await callback.message.answer("üè† –í—ã –≤–µ—Ä–Ω—É–ª–∏—Å—å –≤ –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é", reply_markup=main_menu_kb())[m
[32m+[m[32m    await callback.answer("üè† –í–æ–∑–≤—Ä–∞—Ç –≤ –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é")[m
[32m+[m
[32m+[m
 @dp.callback_query(F.data.startswith("prev_event_"))[m
 async def handle_prev_event(callback: types.CallbackQuery):[m
     """–í–æ–∑–≤—Ä–∞—Ç –∫ –ø—Ä–µ–¥—ã–¥—É—â–µ–º—É —Å–æ–±—ã—Ç–∏—é"""[m
[1mdiff --git a/simple_status_manager.py b/simple_status_manager.py[m
[1mindex b47fd2c..43f6ab2 100644[m
[1m--- a/simple_status_manager.py[m
[1m+++ b/simple_status_manager.py[m
[36m@@ -231,28 +231,17 @@[m [mdef get_status_change_buttons(event_id: int, current_status: str):[m
 [m
     # –ö–Ω–æ–ø–∫–∏ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç–µ–∫—É—â–µ–≥–æ —Å—Ç–∞—Ç—É—Å–∞[m
     if current_status == "open":[m
[31m-        buttons.extend([m
[31m-            [[m
[31m-                {"text": "‚ùå –ó–∞–∫—Ä—ã—Ç—å", "callback_data": f"close_event_{event_id}"},[m
[31m-                {"text": "üö´ –û—Ç–º–µ–Ω–∏—Ç—å", "callback_data": f"cancel_event_{event_id}"},[m
[31m-            ][m
[31m-        )[m
[32m+[m[32m        buttons.append({"text": "‚úÖ –ó–∞–≤–µ—Ä—à–∏—Ç—å –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–µ", "callback_data": f"close_event_{event_id}"})[m
     elif current_status == "closed":[m
[31m-        buttons.extend([m
[31m-            [[m
[31m-                {"text": "‚úÖ –û—Ç–∫—Ä—ã—Ç—å", "callback_data": f"open_event_{event_id}"},[m
[31m-                {"text": "üö´ –û—Ç–º–µ–Ω–∏—Ç—å", "callback_data": f"cancel_event_{event_id}"},[m
[31m-            ][m
[31m-        )[m
[32m+[m[32m        buttons.append({"text": "üîÑ –í–æ–∑–æ–±–Ω–æ–≤–∏—Ç—å –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–µ", "callback_data": f"open_event_{event_id}"})[m
     elif current_status == "canceled":[m
[31m-        buttons.extend([m
[31m-            [[m
[31m-                {"text": "‚úÖ –û—Ç–∫—Ä—ã—Ç—å", "callback_data": f"open_event_{event_id}"},[m
[31m-                {"text": "‚ùå –ó–∞–∫—Ä—ã—Ç—å", "callback_data": f"close_event_{event_id}"},[m
[31m-            ][m
[31m-        )[m
[32m+[m[32m        # –î–ª—è –æ—Ç–º–µ–Ω–µ–Ω–Ω—ã—Ö —Å–æ–±—ã—Ç–∏–π –ø–æ–∫–∞–∑—ã–≤–∞–µ–º —Ç–æ–ª—å–∫–æ –≤–æ–∑–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ[m
[32m+[m[32m        buttons.append({"text": "üîÑ –í–æ–∑–æ–±–Ω–æ–≤–∏—Ç—å –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–µ", "callback_data": f"open_event_{event_id}"})[m
 [m
     # –ö–Ω–æ–ø–∫–∞ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è (–≤—Å–µ–≥–¥–∞ –¥–æ—Å—Ç—É–ø–Ω–∞)[m
     buttons.append({"text": "‚úè –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å", "callback_data": f"edit_event_{event_id}"})[m
 [m
[32m+[m[32m    # –ö–Ω–æ–ø–∫–∞ –≤–æ–∑–≤—Ä–∞—Ç–∞ –≤ –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é (–≤—Å–µ–≥–¥–∞ –¥–æ—Å—Ç—É–ø–Ω–∞)[m
[32m+[m[32m    buttons.append({"text": "üåü –í—Å—ë —Å—É–ø–µ—Ä ‚Üí üè† –í –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é", "callback_data": f"back_to_main_{event_id}"})[m
[32m+[m
     return buttons[m
