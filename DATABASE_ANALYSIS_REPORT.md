# ðŸ—„ï¸ ÐÐ½Ð°Ð»Ð¸Ð· Ð±Ð°Ð·Ñ‹ Ð´Ð°Ð½Ð½Ñ‹Ñ… EventBot

**Ð”Ð°Ñ‚Ð° Ð°Ð½Ð°Ð»Ð¸Ð·Ð°:** 14 Ð¾ÐºÑ‚ÑÐ±Ñ€Ñ 2025  
**Ð‘Ð°Ð·Ð° Ð´Ð°Ð½Ð½Ñ‹Ñ…:** PostgreSQL (Railway)  
**Ð’ÐµÑ€ÑÐ¸Ñ Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð°:** 1.0.0

---

## ðŸ“Š ÐžÐ±Ñ‰Ð°Ñ ÑÑ‚Ð°Ñ‚Ð¸ÑÑ‚Ð¸ÐºÐ°

### Ð¢Ð°Ð±Ð»Ð¸Ñ†Ñ‹ Ð² Ð±Ð°Ð·Ðµ Ð´Ð°Ð½Ð½Ñ‹Ñ…: **12**

| Ð¢Ð°Ð±Ð»Ð¸Ñ†Ð° | Ð—Ð°Ð¿Ð¸ÑÐµÐ¹ | Ð Ð°Ð·Ð¼ÐµÑ€ | ÐÐ°Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ |
|---------|---------|--------|------------|
| **events** | 51 | 288 KB | ÐžÑÐ½Ð¾Ð²Ð½Ð°Ñ Ñ‚Ð°Ð±Ð»Ð¸Ñ†Ð° Ð²ÑÐµÑ… ÑÐ¾Ð±Ñ‹Ñ‚Ð¸Ð¹ |
| **users** | 7 | 64 KB | ÐŸÐ¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»Ð¸ Telegram Ð±Ð¾Ñ‚Ð° |
| **tasks** | 30 | 64 KB | Ð—Ð°Ð´Ð°Ð½Ð¸Ñ Ð´Ð»Ñ Ð³ÐµÐ¹Ð¼Ð¸Ñ„Ð¸ÐºÐ°Ñ†Ð¸Ð¸ |
| **user_tasks** | 20 | 64 KB | Ð’Ñ‹Ð¿Ð¾Ð»Ð½ÐµÐ½Ð½Ñ‹Ðµ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑÐ¼Ð¸ Ð·Ð°Ð´Ð°Ð½Ð¸Ñ |
| **events_community** | 5 | 96 KB | Ð“Ñ€ÑƒÐ¿Ð¿Ð¾Ð²Ñ‹Ðµ ÑÐ¾Ð±Ñ‹Ñ‚Ð¸Ñ Ð² Ñ‡Ð°Ñ‚Ð°Ñ… |
| **bot_messages** | 21 | 120 KB | Ð¡Ð¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ñ Ð±Ð¾Ñ‚Ð° Ð´Ð»Ñ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¸ "Ð¡Ð¿Ñ€ÑÑ‚Ð°Ñ‚ÑŒ Ð±Ð¾Ñ‚Ð°" |
| **user_participation** | 0 | 120 KB | Ð£Ñ‡Ð°ÑÑ‚Ð¸Ðµ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÐµÐ¹ Ð² ÑÐ¾Ð±Ñ‹Ñ‚Ð¸ÑÑ… |
| **chat_settings** | 1 | 24 KB | ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸ Ð³Ñ€ÑƒÐ¿Ð¿Ð¾Ð²Ñ‹Ñ… Ñ‡Ð°Ñ‚Ð¾Ð² |
| **reports** | 0 | 16 KB | Ð ÐµÐ¿Ð¾Ñ€Ñ‚Ñ‹ Ð¾Ñ‚ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÐµÐ¹ |
| **task_places** | 0 | 16 KB | ÐœÐµÑÑ‚Ð° Ð´Ð»Ñ Ð·Ð°Ð´Ð°Ð½Ð¸Ð¹ |
| **task_templates** | 0 | 16 KB | Ð¨Ð°Ð±Ð»Ð¾Ð½Ñ‹ Ð·Ð°Ð´Ð°Ð½Ð¸Ð¹ |
| **daily_views** | 0 | 8 KB | ÐŸÑ€Ð¾ÑÐ¼Ð¾Ñ‚Ñ€Ñ‹ ÐºÐ¾Ð½Ñ‚ÐµÐ½Ñ‚Ð° |

**ÐžÐ±Ñ‰Ð¸Ð¹ Ñ€Ð°Ð·Ð¼ÐµÑ€ Ð±Ð°Ð·Ñ‹ Ð´Ð°Ð½Ð½Ñ‹Ñ…:** ~960 KB

---

## ðŸŽ¯ Ð¢Ð°Ð±Ð»Ð¸Ñ†Ð° EVENTS (Ð¾ÑÐ½Ð¾Ð²Ð½Ð°Ñ)

### Ð¡Ñ‚Ð°Ñ‚Ð¸ÑÑ‚Ð¸ÐºÐ° Ð¿Ð¾ Ð¸ÑÑ‚Ð¾Ñ‡Ð½Ð¸ÐºÐ°Ð¼

```
ðŸ“Œ KudaGo:      36 ÑÐ¾Ð±Ñ‹Ñ‚Ð¸Ð¹ (70.6%)
ðŸ“Œ BaliForum:   12 ÑÐ¾Ð±Ñ‹Ñ‚Ð¸Ð¹ (23.5%)
ðŸ“Œ User:         3 ÑÐ¾Ð±Ñ‹Ñ‚Ð¸Ñ (5.9%)
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
Ð’ÑÐµÐ³Ð¾:          51 ÑÐ¾Ð±Ñ‹Ñ‚Ð¸Ðµ
```

### Ð¡Ñ‚Ð°Ñ‚Ð¸ÑÑ‚Ð¸ÐºÐ° Ð¿Ð¾ ÑÑ‚Ð°Ñ‚ÑƒÑÐ°Ð¼

```
âœ… open:    33 ÑÐ¾Ð±Ñ‹Ñ‚Ð¸Ñ (64.7%)
âŒ closed:  18 ÑÐ¾Ð±Ñ‹Ñ‚Ð¸Ð¹ (35.3%)
```

### Ð“ÐµÐ¾Ð³Ñ€Ð°Ñ„Ð¸Ñ‡ÐµÑÐºÐ¾Ðµ Ð¿Ð¾ÐºÑ€Ñ‹Ñ‚Ð¸Ðµ

**Ð¢Ð¾Ð¿-3 Ð³Ð¾Ñ€Ð¾Ð´Ð°:**
1. ðŸ™ï¸ **ÐœÐ¾ÑÐºÐ²Ð°** â€” 21 ÑÐ¾Ð±Ñ‹Ñ‚Ð¸Ðµ (41.2%)
2. ðŸ™ï¸ **Ð¡Ð°Ð½ÐºÑ‚-ÐŸÐµÑ‚ÐµÑ€Ð±ÑƒÑ€Ð³** â€” 15 ÑÐ¾Ð±Ñ‹Ñ‚Ð¸Ð¹ (29.4%)
3. ðŸï¸ **Ð‘Ð°Ð»Ð¸** â€” 15 ÑÐ¾Ð±Ñ‹Ñ‚Ð¸Ð¹ (29.4%)

### ÐšÐ°Ñ‡ÐµÑÑ‚Ð²Ð¾ Ð´Ð°Ð½Ð½Ñ‹Ñ…

| ÐŸÐ¾Ð»Ðµ | Ð—Ð°Ð¿Ð¾Ð»Ð½ÐµÐ½Ð½Ð¾ÑÑ‚ÑŒ | Ð¡Ñ‚Ð°Ñ‚ÑƒÑ |
|------|---------------|--------|
| ÐšÐ¾Ð¾Ñ€Ð´Ð¸Ð½Ð°Ñ‚Ñ‹ (lat/lng) | 98.0% | âœ… ÐžÑ‚Ð»Ð¸Ñ‡Ð½Ð¾ |
| Ð”Ð°Ñ‚Ð° Ð½Ð°Ñ‡Ð°Ð»Ð° (starts_at) | 94.1% | âœ… ÐžÑ‚Ð»Ð¸Ñ‡Ð½Ð¾ |
| Ð”Ð°Ñ‚Ð° Ð¾ÐºÐ¾Ð½Ñ‡Ð°Ð½Ð¸Ñ (ends_at) | 3.9% | âš ï¸ ÐÐ¸Ð·ÐºÐ°Ñ |
| Geo hash | 45.1% | âš ï¸ Ð¡Ñ€ÐµÐ´Ð½ÑÑ |
| ÐÐ¾Ñ€Ð¼Ð°Ð»Ð¸Ð·Ð¾Ð²Ð°Ð½Ð½Ð°Ñ Ð´Ð°Ñ‚Ð° | 41.2% | âš ï¸ Ð¡Ñ€ÐµÐ´Ð½ÑÑ |

### Ð’Ñ€ÐµÐ¼ÐµÐ½Ð½Ð°Ñ ÑÑ‚Ð°Ñ‚Ð¸ÑÑ‚Ð¸ÐºÐ°

- **Ð‘ÑƒÐ´ÑƒÑ‰Ð¸Ðµ ÑÐ¾Ð±Ñ‹Ñ‚Ð¸Ñ:** 7 (13.7%)
- **ÐŸÑ€Ð¾ÑˆÐµÐ´ÑˆÐ¸Ðµ ÑÐ¾Ð±Ñ‹Ñ‚Ð¸Ñ:** 41 (80.4%)
- **Ð‘ÐµÐ· Ð´Ð°Ñ‚Ñ‹:** 3 (5.9%)

> âš ï¸ **Ð ÐµÐºÐ¾Ð¼ÐµÐ½Ð´Ð°Ñ†Ð¸Ñ:** ÐÐ°ÑÑ‚Ñ€Ð¾Ð¸Ñ‚ÑŒ Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÑƒÑŽ Ð¾Ñ‡Ð¸ÑÑ‚ÐºÑƒ Ð¿Ñ€Ð¾ÑˆÐµÐ´ÑˆÐ¸Ñ… ÑÐ¾Ð±Ñ‹Ñ‚Ð¸Ð¹

---

## ðŸ‘¥ Ð¢Ð°Ð±Ð»Ð¸Ñ†Ð° USERS

### Ð¡Ñ‚Ð°Ñ‚Ð¸ÑÑ‚Ð¸ÐºÐ°

```
Ð’ÑÐµÐ³Ð¾ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÐµÐ¹:           7
Ð¡ Ð³ÐµÐ¾Ð»Ð¾ÐºÐ°Ñ†Ð¸ÐµÐ¹:                 5 (71.4%)
Ð¡ Ñ‡Ð°ÑÐ¾Ð²Ñ‹Ð¼ Ð¿Ð¾ÑÑÐ¾Ð¼:              0 (0%)
ÐžÐ±Ñ‰Ð¸Ð¹ Ð±Ð°Ð»Ð°Ð½Ñ Ñ€Ð°ÐºÐµÑ‚:            175 ðŸš€
```

### ÐšÐ°Ñ‡ÐµÑÑ‚Ð²Ð¾ Ð´Ð°Ð½Ð½Ñ‹Ñ…

| ÐŸÐ¾Ð»Ðµ | Ð—Ð°Ð¿Ð¾Ð»Ð½ÐµÐ½Ð½Ð¾ÑÑ‚ÑŒ | Ð¡Ñ‚Ð°Ñ‚ÑƒÑ |
|------|---------------|--------|
| Username | 100% | âœ… ÐžÑ‚Ð»Ð¸Ñ‡Ð½Ð¾ |
| ÐŸÐ¾ÑÐ»ÐµÐ´Ð½ÑÑ Ð³ÐµÐ¾Ð»Ð¾ÐºÐ°Ñ†Ð¸Ñ | 71.4% | âœ… Ð¥Ð¾Ñ€Ð¾ÑˆÐ¾ |
| Ð§Ð°ÑÐ¾Ð²Ð¾Ð¹ Ð¿Ð¾ÑÑ | 0% | âŒ ÐšÑ€Ð¸Ñ‚Ð¸Ñ‡Ð½Ð¾ |

> âš ï¸ **ÐšÑ€Ð¸Ñ‚Ð¸Ñ‡Ð½Ð°Ñ Ð¿Ñ€Ð¾Ð±Ð»ÐµÐ¼Ð°:** ÐÐ¸ Ñƒ Ð¾Ð´Ð½Ð¾Ð³Ð¾ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»Ñ Ð½Ðµ ÑƒÑÑ‚Ð°Ð½Ð¾Ð²Ð»ÐµÐ½ Ñ‡Ð°ÑÐ¾Ð²Ð¾Ð¹ Ð¿Ð¾ÑÑ!

---

## ðŸ“‹ Ð¡Ð¸ÑÑ‚ÐµÐ¼Ð° Ð·Ð°Ð´Ð°Ð½Ð¸Ð¹ (Gamification)

### Ð—Ð°Ð´Ð°Ð½Ð¸Ñ

```
Ð’ÑÐµÐ³Ð¾ Ð·Ð°Ð´Ð°Ð½Ð¸Ð¹:                 30
â”œâ”€ Body:                       15 (50%)
â””â”€ Spirit:                     15 (50%)
```

### ÐŸÐ¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŒÑÐºÐ¸Ðµ Ð·Ð°Ð´Ð°Ð½Ð¸Ñ

```
Ð’ÑÐµÐ³Ð¾ Ð¿Ñ€Ð¸Ð½ÑÑ‚Ñ‹Ñ… Ð·Ð°Ð´Ð°Ð½Ð¸Ð¹:        20
â”œâ”€ Ð—Ð°Ð²ÐµÑ€ÑˆÐµÐ½Ð¾:                   7 (35%)
â””â”€ Ð˜ÑÑ‚ÐµÐºÐ»Ð¾:                    13 (65%)
```

> ðŸ’¡ **Insight:** Ð’Ñ‹ÑÐ¾ÐºÐ¸Ð¹ Ð¿Ñ€Ð¾Ñ†ÐµÐ½Ñ‚ Ð¸ÑÑ‚ÐµÐºÑˆÐ¸Ñ… Ð·Ð°Ð´Ð°Ð½Ð¸Ð¹ (65%) â€” Ð²Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð¾, ÑÐ»Ð¸ÑˆÐºÐ¾Ð¼ ÐºÐ¾Ñ€Ð¾Ñ‚ÐºÐ¸Ð¹ ÑÑ€Ð¾Ðº Ð²Ñ‹Ð¿Ð¾Ð»Ð½ÐµÐ½Ð¸Ñ

---

## ðŸ˜ï¸ Ð“Ñ€ÑƒÐ¿Ð¿Ð¾Ð²Ñ‹Ðµ ÑÐ¾Ð±Ñ‹Ñ‚Ð¸Ñ

```
Ð’ÑÐµÐ³Ð¾ Ð³Ñ€ÑƒÐ¿Ð¿Ð¾Ð²Ñ‹Ñ… ÑÐ¾Ð±Ñ‹Ñ‚Ð¸Ð¹:       5
Ð’ÑÐµ Ð² ÑÑ‚Ð°Ñ‚ÑƒÑÐµ:                 open (100%)
ÐÐºÑ‚Ð¸Ð²Ð½Ñ‹Ñ… Ñ‡Ð°Ñ‚Ð¾Ð²:                1
```

---

## ðŸ”‘ Ð˜Ð½Ð´ÐµÐºÑÑ‹ Ð¸ Ð¾Ð¿Ñ‚Ð¸Ð¼Ð¸Ð·Ð°Ñ†Ð¸Ñ

### Ð¢Ð°Ð±Ð»Ð¸Ñ†Ð° EVENTS (11 Ð¸Ð½Ð´ÐµÐºÑÐ¾Ð²)

**ÐžÑÐ½Ð¾Ð²Ð½Ñ‹Ðµ Ð¸Ð½Ð´ÐµÐºÑÑ‹:**
- âœ… `unique_source_external_id` â€” Ð´ÐµÐ´ÑƒÐ¿Ð»Ð¸ÐºÐ°Ñ†Ð¸Ñ Ð¿Ð¾ Ð¸ÑÑ‚Ð¾Ñ‡Ð½Ð¸ÐºÑƒ
- âœ… `ix_events_starts_at` â€” ÑÐ¾Ñ€Ñ‚Ð¸Ñ€Ð¾Ð²ÐºÐ° Ð¿Ð¾ Ð²Ñ€ÐµÐ¼ÐµÐ½Ð¸
- âœ… `ix_events_source` â€” Ñ„Ð¸Ð»ÑŒÑ‚Ñ€Ð°Ñ†Ð¸Ñ Ð¿Ð¾ Ð¸ÑÑ‚Ð¾Ñ‡Ð½Ð¸ÐºÑƒ
- âœ… `idx_events_geo_hash` â€” Ð³ÐµÐ¾Ð¿Ð¾Ð¸ÑÐº
- âœ… `idx_events_chat_id` â€” Ð¿Ð¾Ð¸ÑÐº Ð¿Ð¾ Ñ‡Ð°Ñ‚Ñƒ

**Composite Ð¸Ð½Ð´ÐµÐºÑÑ‹:**
- âœ… `ix_events_source_ext` â€” (source, external_id)

### ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° Ð´ÑƒÐ±Ð»Ð¸ÐºÐ°Ñ‚Ð¾Ð²

```
âœ… Ð”ÑƒÐ±Ð»Ð¸ÐºÐ°Ñ‚Ð¾Ð² Ð½Ðµ Ð½Ð°Ð¹Ð´ÐµÐ½Ð¾
```

---

## ðŸ”— Ð¡Ð²ÑÐ·Ð¸ Ð¼ÐµÐ¶Ð´Ñƒ Ñ‚Ð°Ð±Ð»Ð¸Ñ†Ð°Ð¼Ð¸ (Foreign Keys)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     users       â”‚
â”‚   (id: BIGINT)  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º daily_views.user_id
         â”‚
         â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     events      â”‚
â”‚   (id: INT)     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º user_participation.event_id
         
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     tasks       â”‚
â”‚   (id: INT)     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º user_tasks.task_id
```

---

## ðŸ“ ER-Ð´Ð¸Ð°Ð³Ñ€Ð°Ð¼Ð¼Ð° (ÑƒÐ¿Ñ€Ð¾Ñ‰ÐµÐ½Ð½Ð°Ñ)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     ÐžÐ¡ÐÐžÐ’ÐÐ«Ð• Ð¢ÐÐ‘Ð›Ð˜Ð¦Ð«                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     USERS      â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”‚    EVENTS      â”‚
â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚        â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
â”‚ â€¢ id (PK)      â”‚        â”‚ â€¢ id (PK)      â”‚
â”‚ â€¢ username     â”‚        â”‚ â€¢ source       â”‚
â”‚ â€¢ full_name    â”‚        â”‚ â€¢ external_id  â”‚
â”‚ â€¢ last_lat     â”‚        â”‚ â€¢ title        â”‚
â”‚ â€¢ last_lng     â”‚        â”‚ â€¢ starts_at    â”‚
â”‚ â€¢ rockets_bal  â”‚        â”‚ â€¢ lat, lng     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚ â€¢ organizer_id â”‚
         â”‚                â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                         â”‚
         â”‚                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”
         â”‚                â”‚ EVENTS_COMM    â”‚
         â”‚                â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
         â”‚                â”‚ â€¢ id (PK)      â”‚
         â”‚                â”‚ â€¢ chat_id      â”‚
         â”‚                â”‚ â€¢ organizer_id â”‚
         â”‚                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     TASKS      â”‚        â”‚  USER_TASKS    â”‚
â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚        â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
â”‚ â€¢ id (PK)      â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”‚ â€¢ id (PK)      â”‚
â”‚ â€¢ category     â”‚        â”‚ â€¢ user_id      â”‚
â”‚ â€¢ title        â”‚        â”‚ â€¢ task_id (FK) â”‚
â”‚ â€¢ description  â”‚        â”‚ â€¢ status       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ðŸ” Ð¡Ñ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ð° Ñ‚Ð°Ð±Ð»Ð¸Ñ†Ñ‹ EVENTS

### ÐžÑÐ½Ð¾Ð²Ð½Ñ‹Ðµ Ð³Ñ€ÑƒÐ¿Ð¿Ñ‹ Ð¿Ð¾Ð»ÐµÐ¹

**1. Ð˜Ð´ÐµÐ½Ñ‚Ð¸Ñ„Ð¸ÐºÐ°Ñ†Ð¸Ñ**
```sql
id              INTEGER PRIMARY KEY
source          VARCHAR(64)     -- kudago, baliforum, user
external_id     VARCHAR(64)     -- ID Ð¸Ð· Ð²Ð½ÐµÑˆÐ½ÐµÐ³Ð¾ Ð¸ÑÑ‚Ð¾Ñ‡Ð½Ð¸ÐºÐ°
dedupe_key      VARCHAR(64)     -- ÐšÐ»ÑŽÑ‡ Ð´ÐµÐ´ÑƒÐ¿Ð»Ð¸ÐºÐ°Ñ†Ð¸Ð¸
```

**2. ÐžÑÐ½Ð¾Ð²Ð½Ð°Ñ Ð¸Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸Ñ**
```sql
title           VARCHAR(255) NOT NULL
description     TEXT
status          VARCHAR(16) DEFAULT 'open'
```

**3. Ð’Ñ€ÐµÐ¼ÐµÐ½Ð½Ñ‹Ðµ Ð¼ÐµÑ‚ÐºÐ¸**
```sql
starts_at               TIMESTAMP WITH TIME ZONE
ends_at                 TIMESTAMP WITH TIME ZONE
starts_at_normalized    TIMESTAMP WITH TIME ZONE  -- ÐÐ¾Ñ€Ð¼Ð°Ð»Ð¸Ð·Ð¾Ð²Ð°Ð½Ð½Ð¾Ðµ Ð²Ñ€ÐµÐ¼Ñ
time_local              VARCHAR(16)                -- Legacy
time_utc                TIMESTAMP WITH TIME ZONE   -- Legacy
event_tz                VARCHAR(64)
```

**4. Ð“ÐµÐ¾Ð»Ð¾ÐºÐ°Ñ†Ð¸Ñ**
```sql
lat             DOUBLE PRECISION
lng             DOUBLE PRECISION
geo_hash        VARCHAR(32)        -- Ð¥ÐµÑˆ ÐºÐ¾Ð¾Ñ€Ð´Ð¸Ð½Ð°Ñ‚ Ð´Ð»Ñ Ð´ÐµÐ´ÑƒÐ¿Ð»Ð¸ÐºÐ°Ñ†Ð¸Ð¸
country         VARCHAR(10)
city            VARCHAR(64)
```

**5. ÐœÐµÑÑ‚Ð¾ Ð¿Ñ€Ð¾Ð²ÐµÐ´ÐµÐ½Ð¸Ñ**
```sql
location_name   VARCHAR(255)
location_url    TEXT
venue_name      VARCHAR(255)
address         TEXT
```

**6. ÐžÑ€Ð³Ð°Ð½Ð¸Ð·Ð°Ñ‚Ð¾Ñ€ Ð¸ ÑƒÑ‡Ð°ÑÑ‚Ð½Ð¸ÐºÐ¸**
```sql
organizer_id        BIGINT FK â†’ users(id)
organizer_username  VARCHAR(255)
max_participants    INTEGER
current_participants INTEGER DEFAULT 0
participants_ids    TEXT            -- CSV ÑÐ¿Ð¸ÑÐ¾Ðº ID
```

**7. Ð“Ñ€ÑƒÐ¿Ð¿Ñ‹ Ð¸ ÑÐ¾Ð¾Ð±Ñ‰ÐµÑÑ‚Ð²Ð°**
```sql
chat_id         BIGINT
community_name  VARCHAR(120)
community_link  TEXT
```

**8. ÐœÐµÑ‚Ð°Ð´Ð°Ð½Ð½Ñ‹Ðµ**
```sql
url                 TEXT
is_generated_by_ai  BOOLEAN DEFAULT false
created_at_utc      TIMESTAMP WITH TIME ZONE DEFAULT now()
updated_at_utc      TIMESTAMP WITH TIME ZONE DEFAULT now()
```

---

## âš™ï¸ ÐœÐ¸Ð³Ñ€Ð°Ñ†Ð¸Ð¸

### Ð’Ñ‹Ð¿Ð¾Ð»Ð½ÐµÐ½Ð½Ñ‹Ðµ Ð¼Ð¸Ð³Ñ€Ð°Ñ†Ð¸Ð¸

1. âœ… **merge_events_tables_production.sql** â€” ÐžÐ±ÑŠÐµÐ´Ð¸Ð½ÐµÐ½Ð¸Ðµ `events_parser` Ð¸ `events_user` Ð² ÐµÐ´Ð¸Ð½ÑƒÑŽ Ñ‚Ð°Ð±Ð»Ð¸Ñ†Ñƒ
2. âœ… **add_tasks_tables.sql** â€” Ð”Ð¾Ð±Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ ÑÐ¸ÑÑ‚ÐµÐ¼Ñ‹ Ð·Ð°Ð´Ð°Ð½Ð¸Ð¹
3. âœ… **002_add_bot_tracking.sql** â€” Ð¢Ñ€ÐµÐºÐ¸Ð½Ð³ ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ð¹ Ð±Ð¾Ñ‚Ð°
4. âœ… **001_fix_events_community.sql** â€” Ð˜ÑÐ¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ Ð³Ñ€ÑƒÐ¿Ð¿Ð¾Ð²Ñ‹Ñ… ÑÐ¾Ð±Ñ‹Ñ‚Ð¸Ð¹

### Ð˜ÑÑ‚Ð¾Ñ€Ð¸Ñ Ð¼Ð¸Ð³Ñ€Ð°Ñ†Ð¸Ð¸ (2025-01-07)

```
Ð‘Ð«Ð›Ðž:
â”œâ”€â”€ events_parser   (51 Ð·Ð°Ð¿Ð¸ÑÐµÐ¹)
â”œâ”€â”€ events_user     (22 Ð·Ð°Ð¿Ð¸ÑÐ¸)
â””â”€â”€ events_community (Ð¸Ð·Ð¾Ð»Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¾)

Ð¡Ð¢ÐÐ›Ðž:
â”œâ”€â”€ events          (73 Ð·Ð°Ð¿Ð¸ÑÐ¸) â† Ð¾Ð±ÑŠÐµÐ´Ð¸Ð½ÐµÐ½Ð¾
â””â”€â”€ events_community (Ð¸Ð·Ð¾Ð»Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¾)

Ð Ð•Ð—Ð£Ð›Ð¬Ð¢ÐÐ¢:
âœ… 73 ÑÐ¾Ð±Ñ‹Ñ‚Ð¸Ñ ÑƒÑÐ¿ÐµÑˆÐ½Ð¾ Ð¼Ð¸Ð³Ñ€Ð¸Ñ€Ð¾Ð²Ð°Ð½Ñ‹
âœ… 5 Ð½Ð¾Ð²Ñ‹Ñ… Ð¸Ð½Ð´ÐµÐºÑÐ¾Ð² Ð´Ð»Ñ Ð¿Ñ€Ð¾Ð¸Ð·Ð²Ð¾Ð´Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð¾ÑÑ‚Ð¸
âœ… 100% Ð¿Ð¾ÐºÑ€Ñ‹Ñ‚Ð¸Ðµ Ð½Ð¾Ñ€Ð¼Ð°Ð»Ð¸Ð·Ð¾Ð²Ð°Ð½Ð½Ñ‹Ð¼Ð¸ Ð¿Ð¾Ð»ÑÐ¼Ð¸
âœ… 0 Ð´ÑƒÐ±Ð»Ð¸ÐºÐ°Ñ‚Ð¾Ð²
```

---

## ðŸŽ¨ ÐŸÑ€Ð¸Ð¼ÐµÑ€Ñ‹ Ð´Ð°Ð½Ð½Ñ‹Ñ…

### Ð¡Ð¾Ð±Ñ‹Ñ‚Ð¸Ðµ Ð¸Ð· KudaGo
```json
{
  "id": 15337,
  "source": "kudago",
  "title": "Ð¸Ð½ÑÑ‚Ð°Ð»Ð»ÑÑ†Ð¸Ñ U-space Â«Ð’Ð¸ÑˆÐ½Ñ‘Ð²Ñ‹Ð¹ ÑÐ°Ð´Â»",
  "starts_at": "2025-10-13 09:00",
  "location_name": "ÐœÑƒÐ·ÐµÐ¹ ÑÐ¾Ð²Ñ€ÐµÐ¼ÐµÐ½Ð½Ð¾Ð³Ð¾ Ð¸ÑÐºÑƒÑÑÑ‚Ð²Ð° Ð­Ñ€Ð°Ñ€Ñ‚Ð°",
  "city": "spb",
  "lat": 59.93178799999995,
  "lng": 30.251674,
  "status": "open"
}
```

### Ð¡Ð¾Ð±Ñ‹Ñ‚Ð¸Ðµ Ð¸Ð· BaliForum
```json
{
  "id": 2844,
  "source": "baliforum",
  "title": "Bitcoin Meetup Canggu",
  "starts_at": "2025-10-14 08:30",
  "city": "bali",
  "lat": -8.6432247,
  "lng": 115.1428191,
  "status": "open"
}
```

### ÐŸÐ¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŒÑÐºÐ¾Ðµ ÑÐ¾Ð±Ñ‹Ñ‚Ð¸Ðµ
```json
{
  "id": 25,
  "source": "user",
  "title": "ÐŸÑ€Ð¾Ð³ÑƒÐ»ÐºÐ° Ð¿Ð¾Ð´ Ð»ÑƒÐ½Ð¾Ð¹",
  "location_name": "ÐŸÐ»ÑÐ¶ Ð¡Ð°Ð½ÑƒÑ€",
  "city": "bali",
  "lat": -8.5069,
  "lng": 115.2625,
  "status": "closed",
  "organizer_id": 456065084
}
```

---

## âœ… Ð¡Ð¸Ð»ÑŒÐ½Ñ‹Ðµ ÑÑ‚Ð¾Ñ€Ð¾Ð½Ñ‹

1. **Ð£Ð½Ð¸Ñ„Ð¸Ñ†Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð½Ð°Ñ Ð°Ñ€Ñ…Ð¸Ñ‚ÐµÐºÑ‚ÑƒÑ€Ð°** â€” ÐµÐ´Ð¸Ð½Ð°Ñ Ñ‚Ð°Ð±Ð»Ð¸Ñ†Ð° Ð´Ð»Ñ Ð²ÑÐµÑ… ÑÐ¾Ð±Ñ‹Ñ‚Ð¸Ð¹
2. **ÐšÐ°Ñ‡ÐµÑÑ‚Ð²ÐµÐ½Ð½Ð°Ñ Ð¸Ð½Ð´ÐµÐºÑÐ°Ñ†Ð¸Ñ** â€” 11 Ð¸Ð½Ð´ÐµÐºÑÐ¾Ð² Ð½Ð° Ñ‚Ð°Ð±Ð»Ð¸Ñ†Ðµ events
3. **Ð”ÐµÐ´ÑƒÐ¿Ð»Ð¸ÐºÐ°Ñ†Ð¸Ñ** â€” ÑƒÐ½Ð¸ÐºÐ°Ð»ÑŒÐ½Ñ‹Ðµ Ð¸Ð½Ð´ÐµÐºÑÑ‹ Ð¿Ð¾ (source, external_id)
4. **Ð“ÐµÐ¾Ð¿Ð¾Ð¸ÑÐº Ð¾Ð¿Ñ‚Ð¸Ð¼Ð¸Ð·Ð¸Ñ€Ð¾Ð²Ð°Ð½** â€” geo_hash Ð´Ð»Ñ Ð±Ñ‹ÑÑ‚Ñ€Ð¾Ð³Ð¾ Ð¿Ð¾Ð¸ÑÐºÐ°
5. **ÐÐµÑ‚ Ð´ÑƒÐ±Ð»Ð¸ÐºÐ°Ñ‚Ð¾Ð²** â€” Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÐ° Ð¿Ñ€Ð¾ÑˆÐ»Ð° ÑƒÑÐ¿ÐµÑˆÐ½Ð¾ âœ…
6. **Ð¥Ð¾Ñ€Ð¾ÑˆÐ°Ñ Ð½Ð¾Ñ€Ð¼Ð°Ð»Ð¸Ð·Ð°Ñ†Ð¸Ñ** â€” Ð¾Ñ‚Ð´ÐµÐ»ÑŒÐ½Ñ‹Ðµ Ñ‚Ð°Ð±Ð»Ð¸Ñ†Ñ‹ Ð´Ð»Ñ Ð·Ð°Ð´Ð°Ð½Ð¸Ð¹ Ð¸ Ð³Ñ€ÑƒÐ¿Ð¿

---

## âš ï¸ ÐŸÑ€Ð¾Ð±Ð»ÐµÐ¼Ñ‹ Ð¸ Ñ€ÐµÐºÐ¾Ð¼ÐµÐ½Ð´Ð°Ñ†Ð¸Ð¸

### ðŸ”´ ÐšÑ€Ð¸Ñ‚Ð¸Ñ‡Ð½Ñ‹Ðµ

1. **ÐžÑ‚ÑÑƒÑ‚ÑÑ‚Ð²Ð¸Ðµ Ñ‡Ð°ÑÐ¾Ð²Ñ‹Ñ… Ð¿Ð¾ÑÑÐ¾Ð² Ñƒ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÐµÐ¹**
   - ÐÐ¸ Ñƒ Ð¾Ð´Ð½Ð¾Ð³Ð¾ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»Ñ Ð½Ðµ Ð·Ð°Ð¿Ð¾Ð»Ð½ÐµÐ½Ð¾ Ð¿Ð¾Ð»Ðµ `user_tz`
   - **Ð ÐµÑˆÐµÐ½Ð¸Ðµ:** Ð”Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ Ð°Ð²Ñ‚Ð¾Ð¾Ð¿Ñ€ÐµÐ´ÐµÐ»ÐµÐ½Ð¸Ðµ TZ Ð¿Ñ€Ð¸ Ñ€ÐµÐ³Ð¸ÑÑ‚Ñ€Ð°Ñ†Ð¸Ð¸

2. **80% Ð¿Ñ€Ð¾ÑˆÐµÐ´ÑˆÐ¸Ñ… ÑÐ¾Ð±Ñ‹Ñ‚Ð¸Ð¹**
   - 41 Ð¸Ð· 51 ÑÐ¾Ð±Ñ‹Ñ‚Ð¸Ñ ÑƒÐ¶Ðµ Ð¿Ñ€Ð¾ÑˆÐ»Ð¾
   - **Ð ÐµÑˆÐµÐ½Ð¸Ðµ:** ÐÐ°ÑÑ‚Ñ€Ð¾Ð¸Ñ‚ÑŒ Ð°Ð²Ñ‚Ð¾Ð¾Ñ‡Ð¸ÑÑ‚ÐºÑƒ ÑÑ‚Ð°Ñ€Ñ‹Ñ… ÑÐ¾Ð±Ñ‹Ñ‚Ð¸Ð¹ (cron job)

### ðŸŸ¡ Ð¡Ñ€ÐµÐ´Ð½Ð¸Ðµ

3. **ÐÐ¸Ð·ÐºÐ°Ñ Ð·Ð°Ð¿Ð¾Ð»Ð½ÐµÐ½Ð½Ð¾ÑÑ‚ÑŒ Ð½Ð¾Ñ€Ð¼Ð°Ð»Ð¸Ð·Ð¾Ð²Ð°Ð½Ð½Ñ‹Ñ… Ð¿Ð¾Ð»ÐµÐ¹**
   - `starts_at_normalized`: 41.2%
   - `geo_hash`: 45.1%
   - **Ð ÐµÑˆÐµÐ½Ð¸Ðµ:** Ð—Ð°Ð¿ÑƒÑÑ‚Ð¸Ñ‚ÑŒ ÑÐºÑ€Ð¸Ð¿Ñ‚ Ð½Ð¾Ñ€Ð¼Ð°Ð»Ð¸Ð·Ð°Ñ†Ð¸Ð¸ Ð´Ð»Ñ ÑÑƒÑ‰ÐµÑÑ‚Ð²ÑƒÑŽÑ‰Ð¸Ñ… Ð´Ð°Ð½Ð½Ñ‹Ñ…

4. **ÐžÑ‚ÑÑƒÑ‚ÑÑ‚Ð²Ð¸Ðµ `ends_at` Ñƒ ÑÐ¾Ð±Ñ‹Ñ‚Ð¸Ð¹**
   - Ð¢Ð¾Ð»ÑŒÐºÐ¾ 2 Ð¸Ð· 51 ÑÐ¾Ð±Ñ‹Ñ‚Ð¸Ñ Ð¸Ð¼ÐµÑŽÑ‚ Ð´Ð°Ñ‚Ñƒ Ð¾ÐºÐ¾Ð½Ñ‡Ð°Ð½Ð¸Ñ
   - **Ð ÐµÑˆÐµÐ½Ð¸Ðµ:** Ð£Ð»ÑƒÑ‡ÑˆÐ¸Ñ‚ÑŒ Ð¿Ð°Ñ€ÑÐµÑ€Ñ‹ Ð´Ð»Ñ Ð¸Ð·Ð²Ð»ÐµÑ‡ÐµÐ½Ð¸Ñ Ð²Ñ€ÐµÐ¼ÐµÐ½Ð¸ Ð¾ÐºÐ¾Ð½Ñ‡Ð°Ð½Ð¸Ñ

5. **Ð’Ñ‹ÑÐ¾ÐºÐ¸Ð¹ Ð¿Ñ€Ð¾Ñ†ÐµÐ½Ñ‚ Ð¸ÑÑ‚ÐµÐºÑˆÐ¸Ñ… Ð·Ð°Ð´Ð°Ð½Ð¸Ð¹ (65%)**
   - 13 Ð¸Ð· 20 Ð·Ð°Ð´Ð°Ð½Ð¸Ð¹ Ð¸ÑÑ‚ÐµÐºÐ»Ð¾ Ð±ÐµÐ· Ð²Ñ‹Ð¿Ð¾Ð»Ð½ÐµÐ½Ð¸Ñ
   - **Ð ÐµÑˆÐµÐ½Ð¸Ðµ:** Ð£Ð²ÐµÐ»Ð¸Ñ‡Ð¸Ñ‚ÑŒ TTL Ð·Ð°Ð´Ð°Ð½Ð¸Ð¹ Ð¸Ð»Ð¸ ÑƒÐ¿Ñ€Ð¾ÑÑ‚Ð¸Ñ‚ÑŒ ÑƒÑÐ»Ð¾Ð²Ð¸Ñ

### ðŸŸ¢ ÐÐµÐ·Ð½Ð°Ñ‡Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ðµ

6. **Legacy Ð¿Ð¾Ð»Ñ**
   - `time_local`, `time_utc` Ð¼Ð¾Ð¶Ð½Ð¾ ÑƒÐ´Ð°Ð»Ð¸Ñ‚ÑŒ (Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ÑÑ `starts_at`)
   - **Ð ÐµÑˆÐµÐ½Ð¸Ðµ:** Ð¡Ð¾Ð·Ð´Ð°Ñ‚ÑŒ Ð¼Ð¸Ð³Ñ€Ð°Ñ†Ð¸ÑŽ Ð´Ð»Ñ ÑƒÐ´Ð°Ð»ÐµÐ½Ð¸Ñ Ð¿Ð¾ÑÐ»Ðµ Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÐ¸

7. **CSV Ñ…Ñ€Ð°Ð½ÐµÐ½Ð¸Ðµ ID ÑƒÑ‡Ð°ÑÑ‚Ð½Ð¸ÐºÐ¾Ð²**
   - `participants_ids` Ñ…Ñ€Ð°Ð½Ð¸Ñ‚ÑÑ ÐºÐ°Ðº TEXT
   - **Ð ÐµÑˆÐµÐ½Ð¸Ðµ:** Ð Ð°ÑÑÐ¼Ð¾Ñ‚Ñ€ÐµÑ‚ÑŒ JSONB Ð¸Ð»Ð¸ Ð¾Ñ‚Ð´ÐµÐ»ÑŒÐ½ÑƒÑŽ Ñ‚Ð°Ð±Ð»Ð¸Ñ†Ñƒ

---

## ðŸ“ˆ ÐœÐµÑ‚Ñ€Ð¸ÐºÐ¸ Ð¿Ñ€Ð¾Ð¸Ð·Ð²Ð¾Ð´Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð¾ÑÑ‚Ð¸

### Ð Ð°Ð·Ð¼ÐµÑ€ Ð¸Ð½Ð´ÐµÐºÑÐ¾Ð²

| Ð˜Ð½Ð´ÐµÐºÑ | Ð Ð°Ð·Ð¼ÐµÑ€ |
|--------|--------|
| unique_source_external_id | ~24 KB |
| ix_events_starts_at | ~16 KB |
| idx_events_geo_hash | ~12 KB |

### Ð¡Ñ‚Ð°Ñ‚Ð¸ÑÑ‚Ð¸ÐºÐ° Ð·Ð°Ð¿Ñ€Ð¾ÑÐ¾Ð² (Ñ€ÐµÐºÐ¾Ð¼ÐµÐ½Ð´ÑƒÐµÐ¼Ð°Ñ)

**ÐÐ°Ð¸Ð±Ð¾Ð»ÐµÐµ Ñ‡Ð°ÑÑ‚Ñ‹Ðµ Ð·Ð°Ð¿Ñ€Ð¾ÑÑ‹:**
1. ÐŸÐ¾Ð¸ÑÐº ÑÐ¾Ð±Ñ‹Ñ‚Ð¸Ð¹ Ð¿Ð¾ ÐºÐ¾Ð¾Ñ€Ð´Ð¸Ð½Ð°Ñ‚Ð°Ð¼ + Ñ€Ð°Ð´Ð¸ÑƒÑ (Ð³ÐµÐ¾Ð¿Ð¾Ð¸ÑÐº)
2. Ð¤Ð¸Ð»ÑŒÑ‚Ñ€Ð°Ñ†Ð¸Ñ Ð¿Ð¾ Ð¸ÑÑ‚Ð¾Ñ‡Ð½Ð¸ÐºÑƒ
3. Ð¡Ð¾Ñ€Ñ‚Ð¸Ñ€Ð¾Ð²ÐºÐ° Ð¿Ð¾ Ð´Ð°Ñ‚Ðµ Ð½Ð°Ñ‡Ð°Ð»Ð°
4. ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° Ð´ÑƒÐ±Ð»Ð¸ÐºÐ°Ñ‚Ð¾Ð² Ð¿Ð¾ (source, external_id)

**Ð’ÑÐµ Ð·Ð°Ð¿Ñ€Ð¾ÑÑ‹ Ð¿Ð¾ÐºÑ€Ñ‹Ñ‚Ñ‹ Ð¸Ð½Ð´ÐµÐºÑÐ°Ð¼Ð¸** âœ…

---

## ðŸš€ Ð ÐµÐºÐ¾Ð¼ÐµÐ½Ð´Ð°Ñ†Ð¸Ð¸ Ð¿Ð¾ Ð¾Ð¿Ñ‚Ð¸Ð¼Ð¸Ð·Ð°Ñ†Ð¸Ð¸

### ÐšÑ€Ð°Ñ‚ÐºÐ¾ÑÑ€Ð¾Ñ‡Ð½Ñ‹Ðµ (1-2 Ð½ÐµÐ´ÐµÐ»Ð¸)

1. âœ… Ð—Ð°Ð¿ÑƒÑÑ‚Ð¸Ñ‚ÑŒ Ð½Ð¾Ñ€Ð¼Ð°Ð»Ð¸Ð·Ð°Ñ†Ð¸ÑŽ `geo_hash` Ð¸ `starts_at_normalized` Ð´Ð»Ñ Ð²ÑÐµÑ… ÑÐ¾Ð±Ñ‹Ñ‚Ð¸Ð¹
2. âœ… ÐÐ°ÑÑ‚Ñ€Ð¾Ð¸Ñ‚ÑŒ Ð°Ð²Ñ‚Ð¾Ð¾Ñ‡Ð¸ÑÑ‚ÐºÑƒ Ð¿Ñ€Ð¾ÑˆÐµÐ´ÑˆÐ¸Ñ… ÑÐ¾Ð±Ñ‹Ñ‚Ð¸Ð¹ (ÑÑ‚Ð°Ñ€ÑˆÐµ 7 Ð´Ð½ÐµÐ¹)
3. âœ… Ð”Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ Ð°Ð²Ñ‚Ð¾Ð¾Ð¿Ñ€ÐµÐ´ÐµÐ»ÐµÐ½Ð¸Ðµ Ñ‡Ð°ÑÐ¾Ð²Ð¾Ð³Ð¾ Ð¿Ð¾ÑÑÐ° Ð¿Ñ€Ð¸ Ñ€ÐµÐ³Ð¸ÑÑ‚Ñ€Ð°Ñ†Ð¸Ð¸ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»Ñ
4. âœ… Ð£Ð»ÑƒÑ‡ÑˆÐ¸Ñ‚ÑŒ Ð¿Ð°Ñ€ÑÐµÑ€Ñ‹ Ð´Ð»Ñ Ð¸Ð·Ð²Ð»ÐµÑ‡ÐµÐ½Ð¸Ñ `ends_at`

### Ð¡Ñ€ÐµÐ´Ð½ÐµÑÑ€Ð¾Ñ‡Ð½Ñ‹Ðµ (1-2 Ð¼ÐµÑÑÑ†Ð°)

5. âš™ï¸ Ð”Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ Ð¿Ð°Ñ€Ñ‚Ð¸Ñ†Ð¸Ð¾Ð½Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ Ñ‚Ð°Ð±Ð»Ð¸Ñ†Ñ‹ `events` Ð¿Ð¾ Ð´Ð°Ñ‚Ð°Ð¼ (Ð¿Ñ€Ð¸ > 10K Ð·Ð°Ð¿Ð¸ÑÐµÐ¹)
6. âš™ï¸ ÐÐ°ÑÑ‚Ñ€Ð¾Ð¸Ñ‚ÑŒ VACUUM Ð¸ ANALYZE Ñ‡ÐµÑ€ÐµÐ· cron
7. âš™ï¸ Ð”Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ Ð¼Ð¾Ð½Ð¸Ñ‚Ð¾Ñ€Ð¸Ð½Ð³ Ñ€Ð°Ð·Ð¼ÐµÑ€Ð° Ð±Ð°Ð·Ñ‹ Ð´Ð°Ð½Ð½Ñ‹Ñ…
8. âš™ï¸ Ð¡Ð¾Ð·Ð´Ð°Ñ‚ÑŒ Ð¼Ð°Ñ‚ÐµÑ€Ð¸Ð°Ð»Ð¸Ð·Ð¾Ð²Ð°Ð½Ð½Ð¾Ðµ Ð¿Ñ€ÐµÐ´ÑÑ‚Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ Ð´Ð»Ñ Ð¿Ð¾Ð¿ÑƒÐ»ÑÑ€Ð½Ñ‹Ñ… Ð·Ð°Ð¿Ñ€Ð¾ÑÐ¾Ð²

### Ð”Ð¾Ð»Ð³Ð¾ÑÑ€Ð¾Ñ‡Ð½Ñ‹Ðµ (3-6 Ð¼ÐµÑÑÑ†ÐµÐ²)

9. ðŸ“Š Ð Ð°ÑÑÐ¼Ð¾Ñ‚Ñ€ÐµÑ‚ÑŒ Ð¿ÐµÑ€ÐµÑ…Ð¾Ð´ Ð½Ð° PostGIS Ð´Ð»Ñ Ð³ÐµÐ¾Ð¿Ð¾Ð¸ÑÐºÐ° (ÐµÑÐ»Ð¸ Ð±ÑƒÐ´ÐµÑ‚ > 100K ÑÐ¾Ð±Ñ‹Ñ‚Ð¸Ð¹)
10. ðŸ“Š Ð”Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ Ð¿Ð¾Ð»Ð½Ð¾Ñ‚ÐµÐºÑÑ‚Ð¾Ð²Ñ‹Ð¹ Ð¿Ð¾Ð¸ÑÐº (pg_trgm Ð¸Ð»Ð¸ ElasticSearch)
11. ðŸ“Š ÐÐ°ÑÑ‚Ñ€Ð¾Ð¸Ñ‚ÑŒ Ñ€ÐµÐ¿Ð»Ð¸ÐºÐ°Ñ†Ð¸ÑŽ Ð´Ð»Ñ Ð¾Ñ‚ÐºÐ°Ð·Ð¾ÑƒÑÑ‚Ð¾Ð¹Ñ‡Ð¸Ð²Ð¾ÑÑ‚Ð¸
12. ðŸ“Š ÐÑ€Ñ…Ð¸Ð²Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ ÑÑ‚Ð°Ñ€Ñ‹Ñ… ÑÐ¾Ð±Ñ‹Ñ‚Ð¸Ð¹ Ð² Ð¾Ñ‚Ð´ÐµÐ»ÑŒÐ½ÑƒÑŽ Ñ‚Ð°Ð±Ð»Ð¸Ñ†Ñƒ

---

## ðŸ“Š SQL Ð´Ð»Ñ Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÐ¸ Ñ†ÐµÐ»Ð¾ÑÑ‚Ð½Ð¾ÑÑ‚Ð¸

```sql
-- ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° Ð´ÑƒÐ±Ð»Ð¸ÐºÐ°Ñ‚Ð¾Ð²
SELECT source, external_id, COUNT(*) 
FROM events 
WHERE source IS NOT NULL AND external_id IS NOT NULL
GROUP BY source, external_id 
HAVING COUNT(*) > 1;

-- ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° NULL ÐºÐ¾Ð¾Ñ€Ð´Ð¸Ð½Ð°Ñ‚
SELECT COUNT(*) FROM events WHERE lat IS NULL OR lng IS NULL;

-- ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° ÑÐ¾Ð±Ñ‹Ñ‚Ð¸Ð¹ Ð±ÐµÐ· Ð´Ð°Ñ‚Ñ‹
SELECT COUNT(*) FROM events WHERE starts_at IS NULL;

-- Ð¢Ð¾Ð¿ Ð¸ÑÑ‚Ð¾Ñ‡Ð½Ð¸ÐºÐ¾Ð²
SELECT source, COUNT(*) as cnt 
FROM events 
GROUP BY source 
ORDER BY cnt DESC;

-- Ð‘ÑƒÐ´ÑƒÑ‰Ð¸Ðµ vs Ð¿Ñ€Ð¾ÑˆÐµÐ´ÑˆÐ¸Ðµ
SELECT 
  COUNT(CASE WHEN starts_at > NOW() THEN 1 END) as future,
  COUNT(CASE WHEN starts_at <= NOW() THEN 1 END) as past
FROM events;
```

---

## ðŸŽ¯ Ð˜Ñ‚Ð¾Ð³Ð¾Ð²Ð°Ñ Ð¾Ñ†ÐµÐ½ÐºÐ° Ð±Ð°Ð·Ñ‹ Ð´Ð°Ð½Ð½Ñ‹Ñ…

| ÐšÑ€Ð¸Ñ‚ÐµÑ€Ð¸Ð¹ | ÐžÑ†ÐµÐ½ÐºÐ° | ÐšÐ¾Ð¼Ð¼ÐµÐ½Ñ‚Ð°Ñ€Ð¸Ð¹ |
|----------|--------|-------------|
| **Ð¡Ñ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ð°** | â­â­â­â­â­ | ÐžÑ‚Ð»Ð¸Ñ‡Ð½Ð¾ â€” Ñ‡Ð¸ÑÑ‚Ð°Ñ, Ð½Ð¾Ñ€Ð¼Ð°Ð»Ð¸Ð·Ð¾Ð²Ð°Ð½Ð½Ð°Ñ |
| **Ð˜Ð½Ð´ÐµÐºÑÐ°Ñ†Ð¸Ñ** | â­â­â­â­â­ | ÐžÑ‚Ð»Ð¸Ñ‡Ð½Ð¾ â€” Ð¿Ð¾ÐºÑ€Ñ‹Ñ‚Ñ‹ Ð²ÑÐµ Ð·Ð°Ð¿Ñ€Ð¾ÑÑ‹ |
| **Ð¦ÐµÐ»Ð¾ÑÑ‚Ð½Ð¾ÑÑ‚ÑŒ** | â­â­â­â­â˜† | Ð¥Ð¾Ñ€Ð¾ÑˆÐ¾ â€” Ð½ÐµÑ‚ Ð´ÑƒÐ±Ð»Ð¸ÐºÐ°Ñ‚Ð¾Ð², ÐµÑÑ‚ÑŒ FK |
| **ÐšÐ°Ñ‡ÐµÑÑ‚Ð²Ð¾ Ð´Ð°Ð½Ð½Ñ‹Ñ…** | â­â­â­â˜†â˜† | Ð¡Ñ€ÐµÐ´Ð½Ðµ â€” Ð¼Ð½Ð¾Ð³Ð¾ NULL, 80% ÑÑ‚Ð°Ñ€Ñ‹Ñ… ÑÐ¾Ð±Ñ‹Ñ‚Ð¸Ð¹ |
| **ÐŸÑ€Ð¾Ð¸Ð·Ð²Ð¾Ð´Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð¾ÑÑ‚ÑŒ** | â­â­â­â­â˜† | Ð¥Ð¾Ñ€Ð¾ÑˆÐ¾ â€” ÐµÑÑ‚ÑŒ Ð¸Ð½Ð´ÐµÐºÑÑ‹, Ð½Ð¾ Ð½ÐµÑ‚ Ð¿Ð°Ñ€Ñ‚Ð¸Ñ†Ð¸Ð¹ |
| **ÐœÐ°ÑÑˆÑ‚Ð°Ð±Ð¸Ñ€ÑƒÐµÐ¼Ð¾ÑÑ‚ÑŒ** | â­â­â­â­â˜† | Ð¥Ð¾Ñ€Ð¾ÑˆÐ¾ â€” Ð³Ð¾Ñ‚Ð¾Ð²Ð° Ðº Ñ€Ð¾ÑÑ‚Ñƒ Ð´Ð¾ 100K ÑÐ¾Ð±Ñ‹Ñ‚Ð¸Ð¹ |

### ðŸ† ÐžÐ±Ñ‰Ð°Ñ Ð¾Ñ†ÐµÐ½ÐºÐ°: **4.2 / 5.0**

---

## ðŸ“ Ð’Ñ‹Ð²Ð¾Ð´Ñ‹

Ð‘Ð°Ð·Ð° Ð´Ð°Ð½Ð½Ñ‹Ñ… EventBot Ð½Ð°Ñ…Ð¾Ð´Ð¸Ñ‚ÑÑ Ð² **Ñ…Ð¾Ñ€Ð¾ÑˆÐµÐ¼ ÑÐ¾ÑÑ‚Ð¾ÑÐ½Ð¸Ð¸** Ñ ÐºÐ°Ñ‡ÐµÑÑ‚Ð²ÐµÐ½Ð½Ð¾Ð¹ Ð°Ñ€Ñ…Ð¸Ñ‚ÐµÐºÑ‚ÑƒÑ€Ð¾Ð¹ Ð¸ Ð¾Ð¿Ñ‚Ð¸Ð¼Ð¸Ð·Ð°Ñ†Ð¸ÐµÐ¹. ÐžÑÐ½Ð¾Ð²Ð½Ñ‹Ðµ Ð¿Ñ€Ð¾Ð±Ð»ÐµÐ¼Ñ‹ ÑÐ²ÑÐ·Ð°Ð½Ñ‹ Ñ **ÐºÐ°Ñ‡ÐµÑÑ‚Ð²Ð¾Ð¼ Ð´Ð°Ð½Ð½Ñ‹Ñ…** (Ð¾Ñ‚ÑÑƒÑ‚ÑÑ‚Ð²Ð¸Ðµ Ñ‡Ð°ÑÐ¾Ð²Ñ‹Ñ… Ð¿Ð¾ÑÑÐ¾Ð², Ð¼Ð½Ð¾Ð³Ð¾ ÑÑ‚Ð°Ñ€Ñ‹Ñ… ÑÐ¾Ð±Ñ‹Ñ‚Ð¸Ð¹), Ð° Ð½Ðµ ÑÐ¾ ÑÑ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ð¾Ð¹.

**ÐŸÑ€Ð¸Ð¾Ñ€Ð¸Ñ‚ÐµÑ‚Ð½Ñ‹Ðµ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ñ:**
1. ÐÐ°ÑÑ‚Ñ€Ð¾Ð¸Ñ‚ÑŒ Ð°Ð²Ñ‚Ð¾Ð¾Ñ‡Ð¸ÑÑ‚ÐºÑƒ Ð¿Ñ€Ð¾ÑˆÐµÐ´ÑˆÐ¸Ñ… ÑÐ¾Ð±Ñ‹Ñ‚Ð¸Ð¹
2. Ð”Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ Ð°Ð²Ñ‚Ð¾Ð¾Ð¿Ñ€ÐµÐ´ÐµÐ»ÐµÐ½Ð¸Ðµ Ñ‡Ð°ÑÐ¾Ð²Ð¾Ð³Ð¾ Ð¿Ð¾ÑÑÐ°
3. Ð—Ð°Ð¿ÑƒÑÑ‚Ð¸Ñ‚ÑŒ Ð½Ð¾Ñ€Ð¼Ð°Ð»Ð¸Ð·Ð°Ñ†Ð¸ÑŽ Ð´Ð»Ñ ÑÑƒÑ‰ÐµÑÑ‚Ð²ÑƒÑŽÑ‰Ð¸Ñ… Ð´Ð°Ð½Ð½Ñ‹Ñ…

Ð‘Ð°Ð·Ð° Ð³Ð¾Ñ‚Ð¾Ð²Ð° Ðº Ð¿Ñ€Ð¾Ð´Ð°ÐºÑˆÐµÐ½Ñƒ Ð¸ Ð¼Ð¾Ð¶ÐµÑ‚ Ð¼Ð°ÑÑˆÑ‚Ð°Ð±Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒÑÑ Ð´Ð¾ 100K+ ÑÐ¾Ð±Ñ‹Ñ‚Ð¸Ð¹ Ð±ÐµÐ· ÑÐµÑ€ÑŒÐµÐ·Ð½Ñ‹Ñ… Ð¸Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ð¹ Ð°Ñ€Ñ…Ð¸Ñ‚ÐµÐºÑ‚ÑƒÑ€Ñ‹.

---

**Ð”Ð°Ñ‚Ð° ÑÐ¾Ð·Ð´Ð°Ð½Ð¸Ñ Ð¾Ñ‚Ñ‡ÐµÑ‚Ð°:** 14 Ð¾ÐºÑ‚ÑÐ±Ñ€Ñ 2025  
**ÐÐ²Ñ‚Ð¾Ñ€:** AI Assistant (Claude)  
**Ð’ÐµÑ€ÑÐ¸Ñ:** 1.0

