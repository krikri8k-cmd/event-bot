# üöÄ –î–µ–ø–ª–æ–π Telegram –±–æ—Ç–∞ –Ω–∞ Railway

## –ü—Ä–æ–±–ª–µ–º–∞
–ë–æ—Ç –∑–∞—Å—ã–ø–∞–µ—Ç –Ω–∞ Railway –∏–∑-–∑–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏. Railway "—É—Å—ã–ø–ª—è–µ—Ç" –Ω–µ–∞–∫—Ç–∏–≤–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã.

## –†–µ—à–µ–Ω–∏–µ
–ó–∞–ø—É—Å–∫–∞–µ–º Telegram –±–æ—Ç–∞ —Å health check —Å–µ—Ä–≤–µ—Ä–æ–º –∏ keep-alive –º–µ—Ö–∞–Ω–∏–∑–º–æ–º.

## –§–∞–π–ª—ã –¥–ª—è –¥–µ–ø–ª–æ—è

### 1. Dockerfile.bot
–°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π Dockerfile –¥–ª—è Telegram –±–æ—Ç–∞:
```dockerfile
FROM python:3.12-slim
ENV PYTHONDONTWRITEBYTECODE=1 PYTHONUNBUFFERED=1
WORKDIR /app
COPY requirements.txt ./
RUN pip install -r requirements.txt
COPY . .
RUN chmod +x railway-bot-start.sh
CMD ["./railway-bot-start.sh"]
```

### 2. railway-bot-start.sh
–°–∫—Ä–∏–ø—Ç –∑–∞–ø—É—Å–∫–∞ —Å keep-alive:
```bash
#!/bin/bash
# Keep-alive –∫–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç
keep_alive() {
    while true; do
        echo "$(date): üîÑ Keep-alive ping..."
        sleep 300
    done
}
keep_alive &
python bot_enhanced_v3.py
```

### 3. bot_health.py
Health check —Å–µ—Ä–≤–µ—Ä –¥–ª—è Railway:
- `/health` - —Å—Ç–∞—Ç—É—Å –±–æ—Ç–∞
- `/ping` - keep-alive endpoint
- –†–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –ø–æ—Ä—Ç—É 8000

## –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –¥–µ–ø–ª–æ—é

### –®–∞–≥ 1: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞
```bash
# –£–±–µ–¥–∏—Å—å —á—Ç–æ –≤—Å–µ —Ñ–∞–π–ª—ã –∑–∞–∫–æ–º–º–∏—á–µ–Ω—ã
git add .
git commit -m "feat: add Railway bot deployment files"
git push
```

### –®–∞–≥ 2: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Railway
1. **–°–æ–∑–¥–∞–π –Ω–æ–≤—ã–π —Å–µ—Ä–≤–∏—Å** –≤ Railway
2. **–í—ã–±–µ—Ä–∏ "Build via Dockerfile"**
3. **–£–∫–∞–∂–∏ Dockerfile.bot** –∫–∞–∫ –ø—É—Ç—å –∫ Dockerfile
4. **Root Directory** = `./` (–∫–æ—Ä–µ–Ω—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è)

### –®–∞–≥ 3: –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
–î–æ–±–∞–≤—å –≤ Railway Variables:
```
TELEGRAM_TOKEN=your_bot_token
DATABASE_URL=your_database_url
MEETUP_ENABLED=0
```

### –®–∞–≥ 4: –î–µ–ø–ª–æ–π
1. –ù–∞–∂–º–∏ **"Deploy"**
2. –î–æ–∂–¥–∏—Å—å —É—Å–ø–µ—à–Ω–æ–π —Å–±–æ—Ä–∫–∏
3. –ü—Ä–æ–≤–µ—Ä—å –ª–æ–≥–∏ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ:
   ```
   üöÄ –ó–∞–ø—É—Å–∫ EventBot –Ω–∞ Railway...
   Health check —Å–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω –Ω–∞ –ø–æ—Ä—Ç—É 8000
   –ó–∞–ø—É—Å–∫ —É–ª—É—á—à–µ–Ω–Ω–æ–≥–æ EventBot (aiogram 3.x)...
   ```

## –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

### 1. Health Check
–û—Ç–∫—Ä–æ–π URL Railway + `/health`:
```json
{
  "status": "healthy",
  "service": "EventBot Telegram Bot",
  "timestamp": 1234567890,
  "uptime": "running"
}
```

### 2. Ping Endpoint
URL Railway + `/ping`:
```json
{"pong": 1234567890}
```

### 3. Telegram –±–æ—Ç
–û—Ç–ø—Ä–∞–≤—å `/start` –±–æ—Ç—É - –¥–æ–ª–∂–µ–Ω –æ—Ç–≤–µ—Ç–∏—Ç—å —Å—Ä–∞–∑—É!

## –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –õ–æ–≥–∏ Railway
- –°–ª–µ–¥–∏ –∑–∞ –ª–æ–≥–∞–º–∏ –≤ Railway UI
- –ò—â–∏ —Å–æ–æ–±—â–µ–Ω–∏—è –æ keep-alive
- –ü—Ä–æ–≤–µ—Ä—è–π –æ—à–∏–±–∫–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ Telegram

### Keep-Alive
- –ë–æ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç ping –∫–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç
- Railway –≤–∏–¥–∏—Ç –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –∏ –Ω–µ —É—Å—ã–ø–ª—è–µ—Ç —Å–µ—Ä–≤–∏—Å
- Health check endpoints –¥–æ—Å—Ç—É–ø–Ω—ã –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞

## Troubleshooting

### –ë–æ—Ç –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç
1. –ü—Ä–æ–≤–µ—Ä—å –ª–æ–≥–∏ Railway
2. –£–±–µ–¥–∏—Å—å —á—Ç–æ TELEGRAM_TOKEN –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π
3. –ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ health check —Ä–∞–±–æ—Ç–∞–µ—Ç

### Health check –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
1. –ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ –ø–æ—Ä—Ç 8000 –æ—Ç–∫—Ä—ã—Ç
2. –£–±–µ–¥–∏—Å—å —á—Ç–æ aiohttp —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
3. –ü—Ä–æ–≤–µ—Ä—å –ª–æ–≥–∏ –Ω–∞ –æ—à–∏–±–∫–∏

### Railway —É—Å—ã–ø–ª—è–µ—Ç —Å–µ—Ä–≤–∏—Å
1. –£–±–µ–¥–∏—Å—å —á—Ç–æ keep-alive —Ä–∞–±–æ—Ç–∞–µ—Ç
2. –ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ health check endpoints –æ—Ç–≤–µ—á–∞—é—Ç
3. –†–∞—Å—Å–º–æ—Ç—Ä–∏ –ø–ª–∞—Ç–Ω—ã–π –ø–ª–∞–Ω Railway

## –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã

### 1. UptimeRobot
- –ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∫–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–∏–Ω–≥—É–µ—Ç `/health` endpoint

### 2. Cron-job.org
- –ë–µ—Å–ø–ª–∞—Ç–Ω—ã–µ cron –∑–∞–¥–∞—á–∏
- –ù–∞—Å—Ç—Ä–æ–π ping –∫–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç –Ω–∞ `/ping`

### 3. –ü–ª–∞—Ç–Ω—ã–π –ø–ª–∞–Ω Railway
- –ù–µ—Ç –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π –Ω–∞ "–∑–∞—Å—ã–ø–∞–Ω–∏–µ"
- –ü–æ—Å—Ç–æ—è–Ω–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Å–µ—Ä–≤–∏—Å–∞

## –†–µ–∑—É–ª—å—Ç–∞—Ç
‚úÖ –ë–æ—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç 24/7 –Ω–∞ Railway  
‚úÖ Health check endpoints –¥–æ—Å—Ç—É–ø–Ω—ã  
‚úÖ Keep-alive –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç "–∑–∞—Å—ã–ø–∞–Ω–∏–µ"  
‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö  

–¢–µ–ø–µ—Ä—å —Ç–≤–æ–π –±–æ—Ç –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –≤—Å–µ–≥–¥–∞! üéâ
