# üéâ Baliforum Integration - –§–∏–Ω–∞–ª—å–Ω—ã–π –æ—Ç—á–µ—Ç

## ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –¢–ó

### 1. **–¢–æ—á–Ω–æ–µ –≤—Ä–µ–º—è –∏ —á–∞—Å–æ–≤—ã–µ –ø–æ—è—Å–∞**
- ‚úÖ **Asia/Makassar (UTC+8)** - –ø—Ä–∞–≤–∏–ª—å–Ω–∞—è —Ç–∞–π–º–∑–æ–Ω–∞
- ‚úÖ **UTC –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è** - –≤—Å–µ —Å–æ–±—ã—Ç–∏—è —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ UTC
- ‚úÖ **–¢–æ—á–Ω–æ–µ –≤—Ä–µ–º—è** - –ø–∞—Ä—Å–∏–Ω–≥ "—Å–µ–≥–æ–¥–Ω—è 19:00", "–∑–∞–≤—Ç—Ä–∞ 07:30"
- ‚úÖ **–ü—Ä–æ–ø—É—Å–∫ –±–µ–∑ –≤—Ä–µ–º–µ–Ω–∏** - —Å–æ–±—ã—Ç–∏—è –±–µ–∑ —Ç–æ—á–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ –Ω–µ –≤—Å—Ç–∞–≤–ª—è—é—Ç—Å—è

### 2. **–ò–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞**
- ‚úÖ **–£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–Ω–¥–µ–∫—Å** `(source, external_id)` —Å–æ–∑–¥–∞–Ω
- ‚úÖ **Upsert –ª–æ–≥–∏–∫–∞** - `ON CONFLICT DO UPDATE`
- ‚úÖ **–°—Ç–∞–±–∏–ª—å–Ω—ã–π external_id** - SHA1 —Ö–µ—à –æ—Ç URL
- ‚úÖ **–ù–∏–∫–∞–∫–∏—Ö –¥—É–±–ª–∏–∫–∞—Ç–æ–≤** - –ø–æ–≤—Ç–æ—Ä–Ω—ã–µ –∑–∞–ø—É—Å–∫–∏ –æ–±–Ω–æ–≤–ª—è—é—Ç –∑–∞–ø–∏—Å–∏

### 3. **–î–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ**
- ‚úÖ **–°–≤–æ–¥–∫–∞ –ø–∞—Ä—Å–∏–Ω–≥–∞** - `parsed=8, skipped_no_time=2, errors=0`
- ‚úÖ **DEBUG –ª–æ–≥–∏** - –ø—Ä–æ–ø—É—â–µ–Ω–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è —Å –ø—Ä–∏—á–∏–Ω–∞–º–∏
- ‚úÖ **INFO –ª–æ–≥–∏** - —É—Å–ø–µ—à–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
- ‚úÖ **ERROR –ª–æ–≥–∏** - –æ—à–∏–±–∫–∏ —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º

### 4. **–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏**
- ‚úÖ **PowerShell —Å–∫—Ä–∏–ø—Ç—ã** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫ –ø–æ—Ä—Ç–æ–≤
- ‚úÖ **Python —É—Ç–∏–ª–∏—Ç—ã** - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ—Ä—Ç–∞–º–∏
- ‚úÖ **Makefile** - —É–¥–æ–±–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã (–¥–ª—è Linux/Mac)
- ‚úÖ **DEV_GUIDE.md** - –ø–æ–¥—Ä–æ–±–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏

## üìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### –ü–∞—Ä—Å–∏–Ω–≥ –¥–∞—Ç
```
‚úÖ '—Å–µ–≥–æ–¥–Ω—è 19:00' ‚Üí 19:00
‚úÖ '–∑–∞–≤—Ç—Ä–∞ 07:30' ‚Üí 07:30  
‚úÖ '—Å–µ–≥–æ–¥–Ω—è' –±–µ–∑ –≤—Ä–µ–º–µ–Ω–∏ ‚Üí None (–ø—Ä–æ–ø—É—â–µ–Ω–æ)
‚úÖ '10 —Å–µ–Ω—Ç—è–±—Ä—è' –±–µ–∑ –≤—Ä–µ–º–µ–Ω–∏ ‚Üí None (–ø—Ä–æ–ø—É—â–µ–Ω–æ)
```

### Baliforum –ø–∞—Ä—Å–∏–Ω–≥
```
üìä –í—Å–µ–≥–æ —Å–æ–±—ã—Ç–∏–π: 8
üìä –° —Ç–æ—á–Ω—ã–º –≤—Ä–µ–º–µ–Ω–µ–º: 8
üìä –ë–µ–∑ –≤—Ä–µ–º–µ–Ω–∏ (–ø—Ä–æ–ø—É—â–µ–Ω—ã): 2
üìä –°–æ–±—ã—Ç–∏–π –≤ UTC: 8/8
üìä –£–Ω–∏–∫–∞–ª—å–Ω—ã—Ö external_id: 8/8
```

### –ò–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å
```
üîÑ –ü–µ—Ä–≤—ã–π upsert: –≤—Å—Ç–∞–≤–ª–µ–Ω–æ=8, –æ–±–Ω–æ–≤–ª–µ–Ω–æ=0
üîÑ –í—Ç–æ—Ä–æ–π upsert: –≤—Å—Ç–∞–≤–ª–µ–Ω–æ=0, –æ–±–Ω–æ–≤–ª–µ–Ω–æ=8
‚úÖ –ù–∏–∫–∞–∫–∏—Ö UniqueViolation –æ—à–∏–±–æ–∫
```

## üöÄ –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

### –ë—ã—Å—Ç—Ä—ã–π –∑–∞–ø—É—Å–∫
```powershell
# –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞ (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–æ—Ä—Ç)
.\scripts\start-dev.ps1

# –ó–∞–ø—É—Å–∫ API (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–æ—Ä—Ç)  
.\scripts\start-api.ps1

# –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
python test_baliforum_simple.py
```

### –†—É—á–Ω–æ–π –∑–∞–ø—É—Å–∫
```powershell
# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è
python utils/port_manager.py bot

# –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞
python bot_enhanced_v3.py
```

## üéØ –ö–ª—é—á–µ–≤—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

### 1. **–ü–∞—Ä—Å–∏–Ω–≥ –≤—Ä–µ–º–µ–Ω–∏**
- –£–±—Ä–∞–Ω–æ –¥–µ—Ñ–æ–ª—Ç–Ω–æ–µ –≤—Ä–µ–º—è 18:00
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –¥–∏–∞–ø–∞–∑–æ–Ω–æ–≤ "19:00‚Äì21:00"
- –£–ª—É—á—à–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ "—Å–µ–≥–æ–¥–Ω—è/–∑–∞–≤—Ç—Ä–∞"
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –¥–Ω–µ–π –Ω–µ–¥–µ–ª–∏

### 2. **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö**
- –°–æ–∑–¥–∞–Ω —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–Ω–¥–µ–∫—Å `(source, external_id)`
- –£–¥–∞–ª–µ–Ω –ø—Ä–æ–±–ª–µ–º–Ω—ã–π `ux_events_title_start_venue`
- –î–æ–±–∞–≤–ª–µ–Ω –∏–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω—ã–π upsert
- –û—á–∏—â–µ–Ω—ã –¥—É–±–ª–∏–∫–∞—Ç—ã

### 3. **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ**
- –î–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–∞—Ä—Å–∏–Ω–≥–∞
- DEBUG –ª–æ–≥–∏ –¥–ª—è –ø—Ä–æ–ø—É—â–µ–Ω–Ω—ã—Ö —Å–æ–±—ã—Ç–∏–π
- INFO –ª–æ–≥–∏ –¥–ª—è —É—Å–ø–µ—à–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
- –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è

### 4. **–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è**
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫ —Å–≤–æ–±–æ–¥–Ω—ã—Ö –ø–æ—Ä—Ç–æ–≤
- –û—á–∏—Å—Ç–∫–∞ –∑–∞–≤–∏—Å—à–∏—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤
- –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ webhook URL
- –£–¥–æ–±–Ω—ã–µ —Å–∫—Ä–∏–ø—Ç—ã –∑–∞–ø—É—Å–∫–∞

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –§–∞–π–ª—ã –∏–∑–º–µ–Ω–µ–Ω—ã:
- `sources/baliforum.py` - —É–ª—É—á—à–µ–Ω–Ω—ã–π –ø–∞—Ä—Å–∏–Ω–≥ –≤—Ä–µ–º–µ–Ω–∏
- `ingest.py` - –∏–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω—ã–π upsert
- `migrations/add_baliforum_unique_index.sql` - –Ω–æ–≤—ã–π –∏–Ω–¥–µ–∫—Å
- `sources/baliforum_source.py` - –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ enhanced_event_search

### –ù–æ–≤—ã–µ —Ñ–∞–π–ª—ã:
- `scripts/start-dev.ps1` - –∑–∞–ø—É—Å–∫ –±–æ—Ç–∞
- `scripts/start-api.ps1` - –∑–∞–ø—É—Å–∫ API
- `utils/port_manager.py` - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ—Ä—Ç–∞–º–∏
- `Makefile` - —É–¥–æ–±–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã
- `DEV_GUIDE.md` - —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞

## üéâ –ì–æ—Ç–æ–≤–æ –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É!

Baliforum –ø–∞—Ä—Å–µ—Ä –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –¢–ó:
- ‚úÖ **–¢–æ—á–Ω–æ–µ –≤—Ä–µ–º—è** - –ø–∞—Ä—Å–∏—Ç—Å—è –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ UTC
- ‚úÖ **–ò–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å** - –Ω–∏–∫–∞–∫–∏—Ö –¥—É–±–ª–∏–∫–∞—Ç–æ–≤
- ‚úÖ **–î–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** - –ø–æ–ª–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞
- ‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è** - –Ω–∏–∫–∞–∫–∏—Ö –ø—Ä–æ–±–ª–µ–º —Å –ø–æ—Ä—Ç–∞–º–∏

**–ö–æ–º–∞–Ω–¥–∞ –¥–ª—è –∑–∞–ø—É—Å–∫–∞:** `.\scripts\start-dev.ps1` üöÄ
